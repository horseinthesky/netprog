<config>
    <configuration xmlns="http://xml.juniper.net/xnm/1.1/xnm" junos:commit-seconds="1531487146" junos:commit-localtime="2018-07-13 13:05:46 UTC" junos:commit-user="root">
        <system operation="replace">
            <host-name>vRR</host-name>
            <root-authentication>
                <encrypted-password>$5$1kWEUbk6$LZa2PZygkPhZLAgq6eWW9b.vxzXmfqKispBs2vtQZz7</encrypted-password>
            </root-authentication>
            <login>
                <class>
                    <name>mon</name>
                    <permissions>secret</permissions>
                    <permissions>view</permissions>
                    <permissions>view-configuration</permissions>
                    <allow-commands>ping*|trace*|show*</allow-commands>
                </class>
                <user>
                    <name>alex-limonov</name>
                    <class>super-user</class>
                    <authentication>
                        <encrypted-password>$1$ebzq$jGhcC83KJ0Rvhh/WdXQ.G1</encrypted-password>
                        <ssh-rsa>
                            <name>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDCOVtb0JX+QkUgIOZlNixOXG1J9RkBW+dOAcw48YEK73lN/FyEaF1qwIr19NhMyh2wGIVhSI9V1sGV8CZEeGm7Wrgndj45gkq1FFxIvjIO/GWniz3UFGiedNDQp64p+C75TTfYHOartp1S3Sguzdhb4yPEaiUAzjMp+SZ6hwT7s9mrOB2+c59GH17e3OoqTdGY8Pgq+vmeisWqmkPwSNq1bAuNLL3mIErIet6Tm1yDx5dnAp6vP41Shx8ss/cDwRmCZf9HwCW82i2SiOwbj/2Md0Ac2WSEVqH12S8mMRDpomUV/vVuSLBqF4DH/NkKsxYvHP8Az8gSB4ysjrSh5a3z</name>
                        </ssh-rsa>
                    </authentication>
                </user>
                <user>
                    <name>axscrew</name>
                    <class>super-user</class>
                    <authentication>
                        <encrypted-password>$1$j.jL$IQifM1R0lc/AFUIa3tKrr.</encrypted-password>
                        <ssh-rsa>
                            <name>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC2aU3tQRdplshyBPQH/cn1m82VWny6QJK05sYmRExLoboV+Nj3OlYrx1A6e1LD5oozmscpiUAmH8cEYbE4jdQ9ZXIaALYRjjaSIrXJIAFr7fo5iy8pXRbuHXyAcVimhHyAxfAwKsIs2rk91GX2JiCv6xYVN1xzlTMM6Eb0ZdEhrafen/74z5r6Dc5OZOwpz0pIPSgih3N1Mo1jvJPmxR8omZVLPkLM9OlepEbZikzfP1uEDNnuNYflPhpsJ/GeRhtU/7nS74cSgx+Up/05ATrnGLUSMhUtvcuQ2XR3xmRTGy9TzvrqDiKQc6TWHKC9zZKHK0rsYdi3Qasiaq2Lxqix</name>
                        </ssh-rsa>
                    </authentication>
                </user>
                <user>
                    <name>horseinthesky</name>
                    <class>super-user</class>
                    <authentication>
                        <encrypted-password>$1$XGbE$f6bDn44e0XTDuk1NLQQSD0</encrypted-password>
                        <ssh-rsa>
                            <name>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDCozzyq5QJTEDO1MnJ0tycgVDhePolz0NmrfzQbz0fDkvIQoBkc4deLRUYJRwNyWHoDH7b/XU+L8F9XQHtjrUtxCXycCd/A9ncZK2AgizD6z1cXSGiorueHizznU2CFKRtxHWjOaeu9CucWn50oS2RlSMv5y8abHBTuK2luysF1GOtvDT7HBIl8fv2bCdYrlMXVcLl0JgvGtwzqeHzqU5psYFah3Rqd/Y9MZWkRN64wuh/XsYUxSZz0GfcmM7nsAypeQ+F/2HVRP+VkUuoP9fFnSBzPwI04S7ulc8pCmBoXCU8HfMicWS+rInl7IoH4NPmcwF9RJ4S6Qvq/0YkvOUF</name>
                        </ssh-rsa>
                    </authentication>
                </user>
                <user>
                    <name>eucariot</name>
                    <class>super-user</class>
                    <authentication>
                        <encrypted-password>$1$lpvn$.l7NN1UbPhJD01m50A40q1</encrypted-password>
                        <ssh-rsa>
                            <name>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCrQ1PBIWN8JQZRi9MsouWl7H7hUz4Y66l9n2BsNfMeDNqVOYP76LZcNP6j0XXGWdASm22v7quyz/bwyZBkPrNohWERnnuTqdaHqjgz5rI1/VXisu9o3O9k1xROlVKe/pipDCBkKxYyC6wJOcBhUdmi6S3bILW6EUYmX6JJ7gysx3kYkfBG1v2qqJek/UwuNdc6lSKZfr6IPnKdCb0Ovd1HrhVBhOeVmrNPrK8IUeARSa9V0WDTm/LhcgV0LVlt6MQtsBVH3tx0jLidZTC2d4SKm/D7TrQO5cCcv5Tcpnt+Aooqgz6118oekQdj6J3SZYoWmk7TD6f5+BlhoYJySpvj</name>
                        </ssh-rsa>
                        <ssh-rsa>
                            <name>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCrQ1PBIWN8JQZRi9MsouWl7H7hUz4Y66l9n2BsNfMeDNqVOYP76LZcNP6j0XXGWdASm22v7quyz/bwyZBkPrNohWERnnuTqdaHqjgz5rI1/VXisu9o3O9k1xROlVKe/pipDCBkKxYyC6wJOcBhUdmi6S3bILW6EUYmX6JJ7gysx3kYkfBG1v2qqJek/UwuNdc6lSKZfr6IPnKdCb0Ovd1HrhVBhOeVmrNPrK8IUeARSa9V0WDTm/LhcgV0LVlt6MQtsBVH3tx0jLidZTC2d4SKm/D7TrQO5cCcv5Tcpnt+Aooqgz6118oekQdj6J3SZY</name>
                        </ssh-rsa>
                    </authentication>
                </user>
                <user>
                    <name>netinfra-mon</name>
                    <uid>4999</uid>
                    <class>mon</class>
                    <authentication>
                        <ssh-rsa>
                            <name>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDD91qBKWx2cp+xmUcKeHbvmsuzLfs3VDuM65bq75I+mSaR+G+PLkgmAPisr1Ag8X+bML3oBtFtDhOXvT3m4Z3NJwTA5dUqTHI6zdsVasLM0Ks4fwk7g+4Wq29Ri9kPi3F56PSO4Kbx0CIsSDH6vVOl6GytVbA1SfNZtTozYx/FEcYjbzq9J0M6iBAVUcnXo9MtYTbph3lek/uYJtvVUOc6l2EEMU364gI1Q5T+j04u8ZIc7+hy4u3Fv95O8hll86OeQTz7qRTEeMSsUHXCq9CzclnGW66kmP2heSjfr7cL+M/T8FHgrwoO5UYWeRAokarbXkptUmIMp5zqROVDslcV</name>
                        </ssh-rsa>
                    </authentication>
                </user>
                <user>
                    <name>admin</name>
                    <uid>5000</uid>
                    <class>super-user</class>
                    <authentication>
                        <encrypted-password>$5$RopcsHcH$P8LP3GPIhvEwmmlVt5XcrrKEr6Pj3fKfwjMr5MNz3OB</encrypted-password>
                    </authentication>
                </user>
            </login>
            <services>
                <ssh>
                    <root-login>deny</root-login>
                </ssh>
                <telnet>
                </telnet>
                <netconf>
                    <ssh>
                        <port>830</port>
                    </ssh>
                    <rfc-compliant/>
                </netconf>
                <rest>
                    <http>
                        <port>8080</port>
                    </http>
                </rest>
            </services>
            <syslog>
                <user>
                    <name>*</name>
                    <contents>
                        <name>any</name>
                        <emergency/>
                    </contents>
                </user>
                <file>
                    <name>messages</name>
                    <contents>
                        <name>any</name>
                        <notice/>
                    </contents>
                    <contents>
                        <name>authorization</name>
                        <info/>
                    </contents>
                </file>
                <file>
                    <name>interactive-commands</name>
                    <contents>
                        <name>interactive-commands</name>
                        <any/>
                    </contents>
                </file>
                <file>
                    <name>firewall</name>
                    <contents>
                        <name>firewall</name>
                        <any/>
                    </contents>
                </file>
            </syslog>
        </system>
        <interfaces operation="replace">
            <interface>
                <name>em0</name>
                <unit>
                    <name>0</name>
                    <family>
                        <inet>
                            <address>
                                <name>192.168.0.110/24</name>
                                <primary/>
                            </address>
                        </inet>
                        <mpls>
                        </mpls>
                    </family>
                </unit>
            </interface>
            <interface>
                <name>em1</name>
                <unit>
                    <name>0</name>
                    <family>
                        <inet6>
                            <address>
                                <name>2a02:6b8:bf00:1002::cd:f1/64</name>
                            </address>
                        </inet6>
                    </family>
                </unit>
            </interface>
            <interface>
                <name>lo0</name>
                <unit>
                    <name>0</name>
                    <family>
                        <inet>
                            <filter>
                                <input>
                                    <filter-name>CPP</filter-name>
                                </input>
                            </filter>
                            <address>
                                <name>37.140.141.80/32</name>
                            </address>
                        </inet>
                    </family>
                </unit>
            </interface>
        </interfaces>
        <routing-options operation="replace">
            <rib>
                <name>inet6.0</name>
                <static>
                    <route>
                        <name>::/0</name>
                        <next-hop>2a02:6b8:bf00:1002::1</next-hop>
                    </route>
                </static>
            </rib>
            <static>
                <route>
                    <name>0.0.0.0/0</name>
                    <next-hop>192.168.0.1</next-hop>
                </route>
            </static>
            <rib-groups>
                <name>RESOLVE_NEXTHOPS</name>
                <import-rib>inet.0</import-rib>
                <import-rib>inet.3</import-rib>
                <import-rib>inet6.3</import-rib>
            </rib-groups>
            <router-id>37.140.141.80</router-id>
            <autonomous-system>
                <as-number>13238</as-number>
                <loops>5</loops>
            </autonomous-system>
        </routing-options>
        <protocols operation="replace">
            <mpls>
                <interface>
                    <name>em0.5</name>
                </interface>
            </mpls>
            <bgp>
                <local-address>37.140.141.80</local-address>
                <group>
                    <name>LU</name>
                    <type>external</type>
                    <local-address>10.255.255.3</local-address>
                    <import>LU_IMPORT</import>
                    <family>
                        <inet>
                            <labeled-unicast>
                                <rib-group>
                                    <ribgroup-name>RESOLVE_NEXTHOPS</ribgroup-name>
                                </rib-group>
                            </labeled-unicast>
                        </inet>
                    </family>
                    <export>LU_EXPORT</export>
                    <peer-as>65401</peer-as>
                    <neighbor>
                        <name>10.255.255.1</name>
                    </neighbor>
                </group>
                <group>
                    <name>FV</name>
                    <type>internal</type>
                    <import>FV_IMPORT</import>
                    <family>
                        <inet>
                            <unicast>
                                <add-path>
                                    <receive/>
                                </add-path>
                                <no-install/>
                            </unicast>
                        </inet>
                    </family>
                    <export>NO_EXPORT</export>
                    <bfd-liveness-detection>
                        <minimum-interval>3000</minimum-interval>
                        <multiplier>3</multiplier>
                    </bfd-liveness-detection>
                    <neighbor>
                        <name>87.250.233.150</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.233.190</name>
                    </neighbor>
                </group>
                <group>
                    <name>CGW</name>
                    <type>internal</type>
                    <import>CGW_IMPORT</import>
                    <family>
                        <inet>
                            <unicast>
                            </unicast>
                        </inet>
                    </family>
                    <cluster>37.140.141.80</cluster>
                    <allow>172.16.0.0/24</allow>
                </group>
                <group>
                    <name>SLB</name>
                    <type>internal</type>
                    <import>SLB_IMPORT</import>
                    <family>
                        <inet>
                            <unicast>
                                <add-path>
                                    <receive/>
                                    <send>
                                        <path-count>6</path-count>
                                    </send>
                                </add-path>
                                <no-install/>
                            </unicast>
                        </inet>
                    </family>
                    <export>SLB_EXPORT</export>
                    <bfd-liveness-detection>
                        <minimum-interval>3000</minimum-interval>
                        <multiplier>3</multiplier>
                    </bfd-liveness-detection>
                    <neighbor>
                        <name>87.250.234.234</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.233.132</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.234.179</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.234.14</name>
                    </neighbor>
                </group>
                <group>
                    <name>RKUB</name>
                    <type>internal</type>
                    <import>RKUB_IMPORT</import>
                    <family>
                        <inet>
                            <unicast>
                                <add-path>
                                    <receive/>
                                </add-path>
                                <no-install/>
                            </unicast>
                        </inet>
                    </family>
                    <export>NO_EXPORT</export>
                    <bfd-liveness-detection>
                        <minimum-interval>3000</minimum-interval>
                        <multiplier>3</multiplier>
                    </bfd-liveness-detection>
                    <neighbor>
                        <name>87.240.234.149</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.228.77</name>
                    </neighbor>
                </group>
                <group>
                    <name>BORDERS</name>
                    <type>internal</type>
                    <family>
                        <inet>
                            <unicast>
                                <no-install/>
                            </unicast>
                        </inet>
                    </family>
                    <export>NO_EXPORT</export>
                    <bfd-liveness-detection>
                        <minimum-interval>3000</minimum-interval>
                        <multiplier>3</multiplier>
                    </bfd-liveness-detection>
                    <neighbor>
                        <name>87.250.234.121</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.233.199</name>
                    </neighbor>
                    <neighbor>
                        <name>87.250.234.255</name>
                    </neighbor>
                </group>
            </bgp>
        </protocols>
        <policy-options operation="replace">
            <prefix-list>
                <name>BGP-PEERS</name>
                <prefix-list-item>
                    <name>172.16.0.0/24</name>
                </prefix-list-item>
                <apply-path>protocols bgp group &lt;*&gt; neighbor &lt;*&gt;</apply-path>
            </prefix-list>
            <prefix-list>
                <name>BORDERS</name>
                <prefix-list-item>
                    <name>37.9.67.0/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>37.9.67.3/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>84.201.159.180/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>87.250.234.9/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>87.250.234.10/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>87.250.234.118/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>87.250.234.255/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>141.8.136.128/32</name>
                </prefix-list-item>
                <prefix-list-item>
                    <name>141.8.136.129/32</name>
                </prefix-list-item>
            </prefix-list>
            <policy-statement>
                <name>CGW_IMPORT</name>
                <term>
                    <name>ALLOW_V4</name>
                    <from>
                        <community>YC_NET_AGG</community>
                        <route-filter>
                            <address>130.193.32.0/19</address>
                            <prefix-length-range>/24-/24</prefix-length-range>
                        </route-filter>
                    </from>
                    <then>
                        <accept/>
                    </then>
                </term>
                <term>
                    <name>ALLOW_test_NET</name>
                    <from>
                        <community>YC_NET_AGG</community>
                        <route-filter>
                            <address>130.193.47.0/24</address>
                            <prefix-length-range>/24-/32</prefix-length-range>
                        </route-filter>
                    </from>
                    <then>
                        <accept/>
                    </then>
                </term>
                <term>
                    <name>DEFAULT_REJECT</name>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>FV_IMPORT</name>
                <term>
                    <name>DENY_BORDERS</name>
                    <from>
                        <prefix-list-filter>
                            <list_name>BORDERS</list_name>
                            <exact/>
                        </prefix-list-filter>
                    </from>
                    <then>
                        <reject/>
                    </then>
                </term>
                <term>
                    <name>ALLOW</name>
                    <from>
                        <community>EUROPE</community>
                        <community>USA</community>
                        <community>TRANSIT</community>
                        <community>YANDEX_MONEY</community>
                    </from>
                    <then>
                        <metric>
                            <metric>0</metric>
                        </metric>
                        <community>
                            <delete/>
                            <community-name>WILD</community-name>
                        </community>
                        <accept/>
                    </then>
                </term>
                <term>
                    <name>DEFAULT_REJECT</name>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>LU_EXPORT</name>
                <term>
                    <name>LO</name>
                    <from>
                        <interface>lo0.0</interface>
                    </from>
                    <then>
                        <community>
                            <add/>
                            <community-name>GEO_DC</community-name>
                        </community>
                        <community>
                            <add/>
                            <community-name>GEO_MODULE</community-name>
                        </community>
                        <community>
                            <add/>
                            <community-name>YC</community-name>
                        </community>
                        <community>
                            <add/>
                            <community-name>CLOUD_FV_RR_LO</community-name>
                        </community>
                        <community>
                            <add/>
                            <community-name>CLOUD_RKUB_RR_LO</community-name>
                        </community>
                        <community>
                            <add/>
                            <community-name>CLOUD_SLB_RR_LO</community-name>
                        </community>
                        <accept/>
                    </then>
                </term>
                <term>
                    <name>DEFAULT_REJECT</name>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>LU_IMPORT</name>
                <term>
                    <name>NO_ADVERTISE</name>
                    <then>
                        <community>
                            <add/>
                            <community-name>NO_ADVERTISE</community-name>
                        </community>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>NO_EXPORT</name>
                <term>
                    <name>NO_EXPORT</name>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>RKUB_IMPORT</name>
                <term>
                    <name>ALLOW</name>
                    <from>
                        <community>RKUB</community>
                    </from>
                    <then>
                        <local-preference>
                            <local-preference>400</local-preference>
                        </local-preference>
                        <accept/>
                    </then>
                </term>
                <term>
                    <name>DEFAULT_REJECT</name>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>SLB_EXPORT</name>
                <term>
                    <name>ALLOW</name>
                    <from>
                        <community>YC_NET_AGG</community>
                    </from>
                    <then>
                        <community>
                            <add/>
                            <community-name>FW_COMMUNITY</community-name>
                        </community>
                        <community>
                            <add/>
                            <community-name>YC</community-name>
                        </community>
                        <accept/>
                    </then>
                </term>
                <term>
                    <name>DEFAULT_REJECT</name>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <policy-statement>
                <name>SLB_IMPORT</name>
                <term>
                    <name>DENY_BORDERS</name>
                    <from>
                        <prefix-list-filter>
                            <list_name>BORDERS</list_name>
                            <exact/>
                        </prefix-list-filter>
                    </from>
                    <then>
                        <reject/>
                    </then>
                </term>
            </policy-statement>
            <community>
                <name>CLOUD_FV_RR_LO</name>
                <members>13238:35112</members>
            </community>
            <community>
                <name>CLOUD_RKUB_RR_LO</name>
                <members>13238:35110</members>
            </community>
            <community>
                <name>CLOUD_SLB_RR_LO</name>
                <members>13238:35114</members>
            </community>
            <community>
                <name>EUROPE</name>
                <members>13238:1000</members>
            </community>
            <community>
                <name>FW_COMMUNITY</name>
                <members>13238:1013</members>
            </community>
            <community>
                <name>GEO_DC</name>
                <members>13238:35701</members>
            </community>
            <community>
                <name>GEO_MODULE</name>
                <members>13238:35720</members>
            </community>
            <community>
                <name>NO_ADVERTISE</name>
                <members>no-advertise</members>
            </community>
            <community>
                <name>RKUB</name>
                <members>13238:1001</members>
            </community>
            <community>
                <name>TRANSIT</name>
                <members>13238:1003</members>
            </community>
            <community>
                <name>USA</name>
                <members>13238:1002</members>
            </community>
            <community>
                <name>WILD</name>
                <members>*:*</members>
            </community>
            <community>
                <name>YANDEX_MONEY</name>
                <members>13238:1005</members>
            </community>
            <community>
                <name>YC</name>
                <members>13238:35999</members>
            </community>
            <community>
                <name>YC_NET_AGG</name>
                <members>13238:35201</members>
            </community>
            <community>
                <name>YC_NET_SPECIFIC</name>
                <members>13238:35200</members>
            </community>
        </policy-options>
        <firewall operation="replace">
            <family>
                <inet>
                    <filter>
                        <name>CPP</name>
                        <term>
                            <name>SSH</name>
                            <from>
                                <protocol>tcp</protocol>
                                <port>22</port>
                            </from>
                            <then>
                                <accept/>
                            </then>
                        </term>
                        <term>
                            <name>NETCONF</name>
                            <from>
                                <protocol>tcp</protocol>
                                <port>830</port>
                            </from>
                            <then>
                                <accept/>
                            </then>
                        </term>
                        <term>
                            <name>ICMP</name>
                            <from>
                                <protocol>icmp</protocol>
                                <icmp-type>echo-request</icmp-type>
                                <icmp-type>echo-reply</icmp-type>
                                <icmp-type>parameter-problem</icmp-type>
                                <icmp-type>time-exceeded</icmp-type>
                                <icmp-type>unreachable</icmp-type>
                            </from>
                            <then>
                                <accept/>
                            </then>
                        </term>
                        <term>
                            <name>BGP</name>
                            <from>
                                <prefix-list>
                                    <name>BGP-PEERS</name>
                                </prefix-list>
                                <protocol>tcp</protocol>
                                <port>bgp</port>
                            </from>
                            <then>
                                <accept/>
                            </then>
                        </term>
                        <term>
                            <name>BFD</name>
                            <from>
                                <prefix-list>
                                    <name>BGP-PEERS</name>
                                </prefix-list>
                                <protocol>udp</protocol>
                                <port>3784</port>
                                <port>4784</port>
                            </from>
                            <then>
                                <accept/>
                            </then>
                        </term>
                        <term>
                            <name>DEFAULT_REJECT</name>
                            <then>
                                <reject/>
                            </then>
                        </term>
                    </filter>
                </inet>
            </family>
        </firewall>
        <routing-instances operation="replace">
            <instance>
                <name>MGMT</name>
                <instance-type>vrf</instance-type>
                <interface>
                    <name>em1.0</name>
                </interface>
                <route-distinguisher>
                    <rd-type>37.140.141.80:1</rd-type>
                </route-distinguisher>
                <vrf-target>
                    <community>target:1:1</community>
                </vrf-target>
                <routing-options>
                    <rib>
                        <name>MGMT.inet6.0</name>
                        <static>
                            <route>
                                <name>::/0</name>
                                <next-hop>2a02:6b8:bf00:1002::1</next-hop>
                                <metric>
                                    <metric-value>20</metric-value>
                                </metric>
                            </route>
                        </static>
                    </rib>
                </routing-options>
            </instance>
        </routing-instances>
    </configuration>
</config>
